<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1161px" style="width:2618px;height:1161px;" version="1.1" viewBox="0 0 2618 1161" width="2618px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><polygon fill="#FFFFFF" filter="url(#f1)" points="1625,152,1635,142,1977,142,1977,937,1967,947,1625,947,1625,152" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1967" x2="1976" y1="152" y2="143"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1625" x2="1967" y1="152" y2="152"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1967" x2="1967" y1="152" y2="947"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="1726" y="167.9951">thread for worker</text><rect fill="#FEFECE" filter="url(#f1)" height="53.9375" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1643.5" y="877"/><ellipse cx="1658.5" cy="895.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1660.8438,891.6406 L1661.0156,891.7188 C1661.2344,891.4063 1661.4375,891.3125 1661.7344,891.3125 C1662.0313,891.3125 1662.3125,891.4531 1662.4688,891.7188 C1662.5625,891.875 1662.5781,892 1662.5781,892.4375 L1662.5781,893.8594 C1662.5781,894.2813 1662.5469,894.4688 1662.4375,894.625 C1662.2656,894.8438 1662,894.9844 1661.7344,894.9844 C1661.5156,894.9844 1661.2813,894.875 1661.1406,894.7344 C1661,894.6094 1660.9688,894.4844 1660.9063,894.0781 C1660.8125,893.6719 1660.6406,893.4531 1660.1563,893.1719 C1659.6875,892.9219 1659.0781,892.7656 1658.5,892.7656 C1656.7656,892.7656 1655.5156,894.0781 1655.5156,895.8594 L1655.5156,896.9531 C1655.5156,898.6563 1656.8125,899.75 1658.8594,899.75 C1659.625,899.75 1660.3125,899.625 1660.7344,899.3594 C1660.9219,899.2656 1660.9219,899.2656 1661.375,898.7813 C1661.5625,898.5938 1661.7656,898.5156 1661.9844,898.5156 C1662.4531,898.5156 1662.8438,898.9063 1662.8438,899.3594 C1662.8438,899.75 1662.5156,900.2031 1661.9375,900.6094 C1661.1875,901.1563 1660.0313,901.4531 1658.8125,901.4531 C1655.9219,901.4531 1653.8125,899.5625 1653.8125,896.9844 L1653.8125,895.8594 C1653.8125,893.1406 1655.8125,891.0625 1658.4375,891.0625 C1659.3125,891.0625 1659.9063,891.2031 1660.8438,891.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="1670.5" y="893.1387">«IWorker»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="1680" y="907.1074">Worker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1644.5" x2="1733.5" y1="914.9375" y2="914.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1644.5" x2="1733.5" y1="922.9375" y2="922.9375"/><rect fill="#FEFECE" filter="url(#f1)" height="66.7422" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="1650.5" y="534.5"/><ellipse cx="1715.75" cy="553.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1718.0938,549.1406 L1718.2656,549.2188 C1718.4844,548.9063 1718.6875,548.8125 1718.9844,548.8125 C1719.2813,548.8125 1719.5625,548.9531 1719.7188,549.2188 C1719.8125,549.375 1719.8281,549.5 1719.8281,549.9375 L1719.8281,551.3594 C1719.8281,551.7813 1719.7969,551.9688 1719.6875,552.125 C1719.5156,552.3438 1719.25,552.4844 1718.9844,552.4844 C1718.7656,552.4844 1718.5313,552.375 1718.3906,552.2344 C1718.25,552.1094 1718.2188,551.9844 1718.1563,551.5781 C1718.0625,551.1719 1717.8906,550.9531 1717.4063,550.6719 C1716.9375,550.4219 1716.3281,550.2656 1715.75,550.2656 C1714.0156,550.2656 1712.7656,551.5781 1712.7656,553.3594 L1712.7656,554.4531 C1712.7656,556.1563 1714.0625,557.25 1716.1094,557.25 C1716.875,557.25 1717.5625,557.125 1717.9844,556.8594 C1718.1719,556.7656 1718.1719,556.7656 1718.625,556.2813 C1718.8125,556.0938 1719.0156,556.0156 1719.2344,556.0156 C1719.7031,556.0156 1720.0938,556.4063 1720.0938,556.8594 C1720.0938,557.25 1719.7656,557.7031 1719.1875,558.1094 C1718.4375,558.6563 1717.2813,558.9531 1716.0625,558.9531 C1713.1719,558.9531 1711.0625,557.0625 1711.0625,554.4844 L1711.0625,553.3594 C1711.0625,550.6406 1713.0625,548.5625 1715.6875,548.5625 C1716.5625,548.5625 1717.1563,548.7031 1718.0938,549.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="1734.25" y="550.6387">«IWorkerFactory»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="1744.25" y="564.6074">WorkerFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1651.5" x2="1894.5" y1="572.4375" y2="572.4375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1651.5" x2="1894.5" y1="580.4375" y2="580.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="1656.5" y="594.6479">std::unique_ptr&lt;IWorker&gt; createWorker()</text><polygon fill="#FBFB77" filter="url(#f1)" points="1641,182,1641,207.1328,1961,207.1328,1961,192,1951,182,1641,182" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="1641,182,1641,207.1328,1796.13,207.1328,1775.46,534.371,1804.13,207.1328,1961,207.1328,1961,192,1951,182,1641,182" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1951" x2="1951" y1="182" y2="192"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1961" x2="1951" y1="192" y2="192"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1647" y="199.0669">create a new worker instance for a given config</text><path d="M440.5,1115.5 C440.5,1105.5 493,1105.5 493,1105.5 C493,1105.5 545.5,1105.5 545.5,1115.5 L545.5,1136.7969 C545.5,1146.7969 493,1146.7969 493,1146.7969 C493,1146.7969 440.5,1146.7969 440.5,1136.7969 L440.5,1115.5 " fill="#FFFFFF" filter="url(#f1)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M440.5,1115.5 C440.5,1125.5 493,1125.5 493,1125.5 C493,1125.5 545.5,1125.5 545.5,1115.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="450.5" y="1138.4951">Config Store</text><path d="M1420.5,1115.5 C1420.5,1105.5 1473,1105.5 1473,1105.5 C1473,1105.5 1525.5,1105.5 1525.5,1115.5 L1525.5,1136.7969 C1525.5,1146.7969 1473,1146.7969 1473,1146.7969 C1473,1146.7969 1420.5,1146.7969 1420.5,1136.7969 L1420.5,1115.5 " fill="#FFFFFF" filter="url(#f1)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1420.5,1115.5 C1420.5,1125.5 1473,1125.5 1473,1125.5 C1473,1125.5 1525.5,1125.5 1525.5,1115.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="1430.5" y="1138.4951">Status Store</text><path d="M1172.5,1115.5 C1172.5,1105.5 1219,1105.5 1219,1105.5 C1219,1105.5 1265.5,1105.5 1265.5,1115.5 L1265.5,1136.7969 C1265.5,1146.7969 1219,1146.7969 1219,1146.7969 C1219,1146.7969 1172.5,1146.7969 1172.5,1136.7969 L1172.5,1115.5 " fill="#FFFFFF" filter="url(#f1)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1172.5,1115.5 C1172.5,1125.5 1219,1125.5 1219,1125.5 C1219,1125.5 1265.5,1125.5 1265.5,1115.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1182.5" y="1138.4951">Data Store</text><rect fill="#FEFECE" filter="url(#f1)" height="66.7422" style="stroke: #A80036; stroke-width: 1.5;" width="303" x="1095.5" y="534.5"/><ellipse cx="1213.25" cy="553.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1215.5938,549.1406 L1215.7656,549.2188 C1215.9844,548.9063 1216.1875,548.8125 1216.4844,548.8125 C1216.7813,548.8125 1217.0625,548.9531 1217.2188,549.2188 C1217.3125,549.375 1217.3281,549.5 1217.3281,549.9375 L1217.3281,551.3594 C1217.3281,551.7813 1217.2969,551.9688 1217.1875,552.125 C1217.0156,552.3438 1216.75,552.4844 1216.4844,552.4844 C1216.2656,552.4844 1216.0313,552.375 1215.8906,552.2344 C1215.75,552.1094 1215.7188,551.9844 1215.6563,551.5781 C1215.5625,551.1719 1215.3906,550.9531 1214.9063,550.6719 C1214.4375,550.4219 1213.8281,550.2656 1213.25,550.2656 C1211.5156,550.2656 1210.2656,551.5781 1210.2656,553.3594 L1210.2656,554.4531 C1210.2656,556.1563 1211.5625,557.25 1213.6094,557.25 C1214.375,557.25 1215.0625,557.125 1215.4844,556.8594 C1215.6719,556.7656 1215.6719,556.7656 1216.125,556.2813 C1216.3125,556.0938 1216.5156,556.0156 1216.7344,556.0156 C1217.2031,556.0156 1217.5938,556.4063 1217.5938,556.8594 C1217.5938,557.25 1217.2656,557.7031 1216.6875,558.1094 C1215.9375,558.6563 1214.7813,558.9531 1213.5625,558.9531 C1210.6719,558.9531 1208.5625,557.0625 1208.5625,554.4844 L1208.5625,553.3594 C1208.5625,550.6406 1210.5625,548.5625 1213.1875,548.5625 C1214.0625,548.5625 1214.6563,548.7031 1215.5938,549.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="1231.75" y="550.6387">«IModule»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="1240.75" y="564.6074">Module</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1096.5" x2="1397.5" y1="572.4375" y2="572.4375"/><polygon fill="none" points="1106.5,579.3398,1110.5,583.3398,1106.5,587.3398,1102.5,583.3398" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="1115.5" y="586.6479">std::unordered_map&lt;ConfigManager&gt; configList</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1096.5" x2="1397.5" y1="593.2422" y2="593.2422"/><rect fill="#FEFECE" filter="url(#f1)" height="205.6563" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="835" y="801"/><ellipse cx="877.9" cy="817" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M880.2438,812.6719 L880.4156,812.75 C880.6344,812.4375 880.8375,812.3438 881.1344,812.3438 C881.4313,812.3438 881.7125,812.4844 881.8688,812.75 C881.9625,812.9063 881.9781,813.0313 881.9781,813.4688 L881.9781,814.8906 C881.9781,815.3125 881.9469,815.5 881.8375,815.6563 C881.6656,815.875 881.4,816.0156 881.1344,816.0156 C880.9156,816.0156 880.6813,815.9063 880.5406,815.7656 C880.4,815.6406 880.3688,815.5156 880.3063,815.1094 C880.2125,814.7031 880.0406,814.4844 879.5563,814.2031 C879.0875,813.9531 878.4781,813.7969 877.9,813.7969 C876.1656,813.7969 874.9156,815.1094 874.9156,816.8906 L874.9156,817.9844 C874.9156,819.6875 876.2125,820.7813 878.2594,820.7813 C879.025,820.7813 879.7125,820.6563 880.1344,820.3906 C880.3219,820.2969 880.3219,820.2969 880.775,819.8125 C880.9625,819.625 881.1656,819.5469 881.3844,819.5469 C881.8531,819.5469 882.2438,819.9375 882.2438,820.3906 C882.2438,820.7813 881.9156,821.2344 881.3375,821.6406 C880.5875,822.1875 879.4313,822.4844 878.2125,822.4844 C875.3219,822.4844 873.2125,820.5938 873.2125,818.0156 L873.2125,816.8906 C873.2125,814.1719 875.2125,812.0938 877.8375,812.0938 C878.7125,812.0938 879.3063,812.2344 880.2438,812.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="898.1" y="821.1543">ConfigManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="836" x2="1022" y1="833" y2="833"/><ellipse cx="846" cy="861.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="855" y="864.0151">start() / startThis()</text><ellipse cx="846" cy="874.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="855" y="876.8198">stop() / stopThis()</text><ellipse cx="846" cy="887.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="855" y="889.6245">reset() / resetThis()</text><ellipse cx="846" cy="900.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="855" y="902.4292">recover() / recoverThis()</text><polygon fill="none" points="846,907.9258,850,911.9258,846,915.9258,842,911.9258" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="855" y="915.2339">commandQueue</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="836" x2="909.5" y1="847.4023" y2="847.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="909.5" y="850.7104">control</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="948.5" x2="1022" y1="847.4023" y2="847.4023"/><ellipse cx="846" cy="942.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="855" y="944.8433">isRunning()</text><ellipse cx="846" cy="955.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="855" y="957.6479">getStatus() / getStatusThis()</text><ellipse cx="846" cy="968.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="855" y="970.4526">getConfig()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="836" x2="896.5" y1="928.2305" y2="928.2305"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="896.5" y="931.5386">information</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="961.5" x2="1022" y1="928.2305" y2="928.2305"/><polygon fill="#FFFF44" points="846,992.7539,850,996.7539,846,1000.7539,842,996.7539" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="855" y="1000.062">clearResults()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="836" x2="890.5" y1="983.4492" y2="983.4492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="890.5" y="986.7573">data handling</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="967.5" x2="1022" y1="983.4492" y2="983.4492"/><polygon fill="#FBFB77" filter="url(#f1)" points="886,129,886,260.0625,1606,260.0625,1606,139,1596,129,886,129" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="886,129,886,260.0625,1242.17,260.0625,1246.91,534.032,1250.17,260.0625,1606,260.0625,1606,139,1596,129,886,129" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1596" x2="1596" y1="129" y2="139"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1606" x2="1596" y1="139" y2="139"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343" x="892" y="146.0669">The Module controls and coordinates multiple configs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="896" y="161.1997"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="699" x="892" y="176.3325">configList holds all active (running) ConfigManager plus a number of inactive (e.g. initialized, or finished) ones.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="539" x="892" y="191.4653">Inactive ConfigManager can be removed from the list to make space for new entries.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="896" y="206.5981"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="892" y="221.731">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="892" y="236.8638">- query Class_generic_status via ConfigManager (2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="892" y="251.9966">- remove Store_SQLite_generic_status (3)</text><polygon fill="#FBFB77" filter="url(#f1)" points="274,442,274,694.125,1060,694.125,1060,452,1050,442,274,442" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="274,442,274,694.125,761.305,694.125,848.937,800.935,769.305,694.125,1060,694.125,1060,452,1050,442,274,442" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1050" x2="1050" y1="442" y2="452"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1060" x2="1050" y1="452" y2="452"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="520" x="280" y="459.0669">The ConfigManager manages and controls exactly one config and its config chain.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="284" y="474.1997"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="280" y="489.3325">used patterns:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="583" x="280" y="504.4653">- [Active Object] to decouple config control command invocation from command execution.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="757" x="288" y="519.5981">The goal is to introduce concurrency, by using asynchronous method invocation and a scheduler for handling requests.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="288" y="534.731">(https://en.wikipedia.org/wiki/Active_object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="288" y="549.8638">http://www.dre.vanderbilt.edu/~schmidt/PDF/Act-Obj.pdf)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="709" x="280" y="564.9966">- [Command Pattern, Command Queue] To queue invoked commands and execute them in a separate thread.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="288" y="580.1294">(https://en.wikipedia.org/wiki/Command_queue,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="288" y="595.2622">https://en.wikipedia.org/wiki/Command_pattern,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="288" y="610.395">http://www.dre.vanderbilt.edu/~schmidt/PDF/CommandRevisited.pdf)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="284" y="625.5278"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="280" y="640.6606">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="362" x="280" y="655.7935">- getStatus() updates Class_generic_status on the fly (2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="440" x="280" y="670.9263">- stableResultCounts are read updated by the store automatically (3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="284" y="686.0591"/><rect fill="#FEFECE" filter="url(#f1)" height="53.9375" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="588" y="1099"/><ellipse cx="603" cy="1117.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M605.3438,1113.6406 L605.5156,1113.7188 C605.7344,1113.4063 605.9375,1113.3125 606.2344,1113.3125 C606.5313,1113.3125 606.8125,1113.4531 606.9688,1113.7188 C607.0625,1113.875 607.0781,1114 607.0781,1114.4375 L607.0781,1115.8594 C607.0781,1116.2813 607.0469,1116.4688 606.9375,1116.625 C606.7656,1116.8438 606.5,1116.9844 606.2344,1116.9844 C606.0156,1116.9844 605.7813,1116.875 605.6406,1116.7344 C605.5,1116.6094 605.4688,1116.4844 605.4063,1116.0781 C605.3125,1115.6719 605.1406,1115.4531 604.6563,1115.1719 C604.1875,1114.9219 603.5781,1114.7656 603,1114.7656 C601.2656,1114.7656 600.0156,1116.0781 600.0156,1117.8594 L600.0156,1118.9531 C600.0156,1120.6563 601.3125,1121.75 603.3594,1121.75 C604.125,1121.75 604.8125,1121.625 605.2344,1121.3594 C605.4219,1121.2656 605.4219,1121.2656 605.875,1120.7813 C606.0625,1120.5938 606.2656,1120.5156 606.4844,1120.5156 C606.9531,1120.5156 607.3438,1120.9063 607.3438,1121.3594 C607.3438,1121.75 607.0156,1122.2031 606.4375,1122.6094 C605.6875,1123.1563 604.5313,1123.4531 603.3125,1123.4531 C600.4219,1123.4531 598.3125,1121.5625 598.3125,1118.9844 L598.3125,1117.8594 C598.3125,1115.1406 600.3125,1113.0625 602.9375,1113.0625 C603.8125,1113.0625 604.4063,1113.2031 605.3438,1113.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="615" y="1115.1387">«IWorkerController»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="633" y="1129.1074">WorkerThread</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589" x2="739" y1="1136.9375" y2="1136.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="589" x2="739" y1="1144.9375" y2="1144.9375"/><polygon fill="#FBFB77" filter="url(#f1)" points="6,823.5,6,984.8281,800,984.8281,800,833.5,790,823.5,6,823.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="790" x2="790" y1="823.5" y2="833.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="800" x2="790" y1="833.5" y2="833.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="373" x="12" y="840.5669">The WorkerThread wraps the Worker in a dedicated thread:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="16" y="855.6997">- create a thread for the worker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="16" y="870.8325">- construct the actual worker instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="16" y="885.9653">- run the worker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="16" y="901.0981">- synchronication between worker (thread) and module (thread)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="16" y="916.231">- error handling</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="931.3638"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="12" y="946.4966">used patterns:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="773" x="12" y="961.6294">- [Mediator] between Worker and ConfigManager -&gt; to avoid threading problems and run worker in own, dedicated thread</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="16" y="976.7622"/><polygon fill="#FBFB77" filter="url(#f1)" points="1996.5,8,1996.5,381.1875,2609.5,381.1875,2609.5,18,2599.5,8,1996.5,8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2599.5" x2="2599.5" y1="8" y2="18"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2609.5" x2="2599.5" y1="18" y2="18"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2002.5" y="25.0669">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2006.5" y="40.1997"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="588" x="2002.5" y="55.3325">- The status of a specific config is requested through the corresponding ConfigManager only.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="381" x="2010.5" y="70.4653">There is no direct access to the status store by the module.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2010.5" y="85.5981"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="2002.5" y="100.731">phase (1)  (current implementation) - DONE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="2002.5" y="115.8638">- Module --&gt; Class_generic_status: reads status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2006.5" y="130.9966"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="2002.5" y="146.1294">phase (2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="477" x="2002.5" y="161.2622">- commands are async and do not return a status (just a OK, or exception)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="2034.5" y="176.395">--&gt; response is: command acknowledged</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="2002.5" y="191.5278">- query Class_generic_status via ConfigManager</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="488" x="2002.5" y="206.6606">- extend Class_generic_status with pendingCommands (= command queue)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="2002.5" y="221.7935">- remove status of chain from Class_generic_status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="2002.5" y="236.9263">- getStatus() updates Class_generic_status on the fly</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2006.5" y="252.0591"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="2002.5" y="267.1919">phase (3)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="327" x="2002.5" y="282.3247">- remove Store_SQLite_generic_status from worker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="2002.5" y="297.4575">- stableResultCounts are read updated by the store automatically</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2006.5" y="312.5903"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="2002.5" y="327.7231">phase (4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="359" x="2002.5" y="342.856">- module function calls from worker must be thread-safe</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="526" x="2002.5" y="357.9888">- implement consumer notification (e.g. via WebSockets and internal event queue)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="2006.5" y="373.1216"/><path d="M1260.74,601.5 C1297.85,689.145 1399.71,929.002 1436,1007 C1442.29,1020.516 1445.83,1023.019 1451,1037 C1459.47,1059.8932 1465.75,1087.3243 1469.38,1105.4057 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="1492" y="901.0669">read status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="1441" y="916.1997">(current implementation) (1)</text><path d="M1208.34,601.699 C1175.04,628.792 1124.9,667.08 1077,694 C1046.42,711.184 1028.89,699.282 1004,724 C982.723,745.132 967.175,773.205 955.945,800.839 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="1005" y="744.5669">read status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="1011" y="759.6997">(TODO) (2)</text><path d="M1224.23,601.81 C1194.78,643.224 1140.85,715.723 1087,771 C1067.42,791.098 1044.99,811.282 1023.3,829.609 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="1127" y="752.0669">controls</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1031.0934" y="820.1692">*</text><path d="M1245.4,601.762 C1241.5,681.643 1231.12,892.801 1222,1069 C1221.38,1081.0567 1220.65,1094.5721 1220.07,1105.3044 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1270" y="901.0669">read</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1241" y="916.1997">(via OutputPin)</text><path d="M1023.08,944.923 C1103.11,978.651 1221.23,1027.89 1325,1069 C1356.54,1081.4959 1392.1,1094.9681 1420.45,1105.5665 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="1326" y="1057.5669">read / write</text><path d="M834.667,997.737 C828.907,1001.2 823.006,1004.325 817,1007 C755.595,1034.35 567.098,993.324 516,1037 C496.434,1053.7239 492.46,1084.8271 492.154,1105.2184 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="71" x="517" y="1057.5669">read / write</text><path d="M1023.08,950.163 C1065.06,972.866 1113.6,1002.828 1152,1037 C1174.81,1057.2978 1195.13,1086.3286 1207.25,1105.4143 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1182" y="1057.5669">clear</text><path d="M1172.5,1124.0813 C1091.13,1121.3839 928.206,1110.7689 893,1069 C879.491,1052.973 876.412,1033.01 878.968,1012.588 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="879.736,1007.388,874.4627,1015.7062,879.0047,1012.3342,882.3767,1016.8763,879.736,1007.388" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="894" y="1050.0669">automatically update status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="940.5" y="1065.1997">(TODO) (3) ???</text><path d="M834.877,997.233 C829.043,1000.855 823.071,1004.15 817,1007 C773.533,1027.41 634.511,1000.764 603,1037 C586.045,1056.4982 605.485,1080.7663 626.797,1098.8761 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="604" y="1057.5669">has</text><path d="M657.396,1098.8073 C654.192,1079.4728 653.665,1053.7189 668,1037 C711.969,985.718 756.734,1037.514 817,1007 C821.487,1004.728 825.929,1002.226 830.308,999.541 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="834.664,996.798,824.9169,998.21,830.4333,999.4627,829.1805,1004.9791,834.664,996.798" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="669" y="1050.0669">automatically update status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="728" y="1065.1997">(TODO) (2)</text><path d="M409.282,984.911 C415.515,1014.869 427.439,1046.955 450,1069 C450.656,1069.6406 526.719,1089.4542 587.967,1105.3325 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><path d="M740.063,1120.6463 C843.816,1113.7216 1023.51,1097.9284 1082,1069 C1100.03,1060.0836 1095.66,1045.248 1114,1037 C1215.93,991.171 1518.18,1061.034 1616,1007 C1646.12,990.364 1666.87,955.409 1678.34,931.085 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1115" y="1057.5669">runs</text><path d="M1676.78,931.054 C1664.57,954.318 1643.64,987.623 1616,1007 C1575.56,1035.354 1556.41,1023.162 1509,1037 C1422.89,1062.1346 1322.84,1092.8239 1265.62,1110.5197 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1510" y="1057.5669">write</text><path d="M1676.38,876.726 C1664.02,853.64 1643.11,820.738 1616,801 C1580.55,775.189 1561.07,790.909 1522,771 C1474.35,746.724 1357.14,656.226 1292.18,604.982 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1287.98,601.664,1292.5628,610.3817,1291.9035,604.7634,1297.5218,604.1041,1287.98,601.664" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="1536" y="737.0669">module specific functions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="1534.5" y="752.1997">(e.g. stores and inputPins)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="1527" y="767.3325">(TODO) make thread-safe (4)</text><path d="M1673.01,931.131 C1659.24,952.62 1638.14,983.282 1616,1007 C1579.87,1045.704 1531.13,1083.3905 1500.9,1105.3858 " fill="none" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="1639.5" y="1050.0669">write status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="1589" y="1065.1997">(current implementation) (1)</text><path d="M1764.79,601.633 C1748.61,665.976 1712.78,808.437 1696.87,871.691 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1695.58,876.834,1701.652,869.0796,1696.798,871.9846,1693.893,867.1307,1695.58,876.834" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1734" y="752.0669">creates</text></g></svg>