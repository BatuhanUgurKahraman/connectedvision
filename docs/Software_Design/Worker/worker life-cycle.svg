<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="983px" style="width:1993px;height:983px;" version="1.1" viewBox="0 0 1993 983" width="1993px"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><polygon fill="#FFFFFF" filter="url(#f1)" points="226,689,236,679,1069,679,1069,803,1059,813,226,813,226,689" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1059" x2="1068" y1="689" y2="680"/><line style="stroke: #000000; stroke-width: 2.0;" x1="226" x2="1059" y1="689" y2="689"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1059" x2="1059" y1="689" y2="813"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="572.5" y="704.9951">thread for worker</text><path d="M1038,479 C1038,469 1158,469 1158,469 C1158,469 1278,469 1278,479 L1278,573 C1278,583 1158,583 1158,583 C1158,583 1038,583 1038,573 L1038,479 " fill="#FFFFFF" filter="url(#f1)" style="stroke: #000000; stroke-width: 2.0;"/><path d="M1038,479 C1038,489 1158,489 1158,489 C1158,489 1278,489 1278,479 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="1046" y="502.9951">Store_SQLite_generic_config</text><path d="M1192,872 C1192,862 1312,862 1312,862 C1312,862 1432,862 1432,872 L1432,966 C1432,976 1312,976 1312,976 C1312,976 1192,976 1192,966 L1192,872 " fill="#FFFFFF" filter="url(#f1)" style="stroke: #000000; stroke-width: 2.0;"/><path d="M1192,872 C1192,882 1312,882 1312,882 C1312,882 1432,882 1432,872 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="1200" y="895.9951">Store_SQLite_generic_status</text><rect fill="#FEFECE" filter="url(#f1)" height="53.9375" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="242.5" y="731"/><ellipse cx="257.5" cy="749.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M259.8438,745.6406 L260.0156,745.7188 C260.2344,745.4063 260.4375,745.3125 260.7344,745.3125 C261.0313,745.3125 261.3125,745.4531 261.4688,745.7188 C261.5625,745.875 261.5781,746 261.5781,746.4375 L261.5781,747.8594 C261.5781,748.2813 261.5469,748.4688 261.4375,748.625 C261.2656,748.8438 261,748.9844 260.7344,748.9844 C260.5156,748.9844 260.2813,748.875 260.1406,748.7344 C260,748.6094 259.9688,748.4844 259.9063,748.0781 C259.8125,747.6719 259.6406,747.4531 259.1563,747.1719 C258.6875,746.9219 258.0781,746.7656 257.5,746.7656 C255.7656,746.7656 254.5156,748.0781 254.5156,749.8594 L254.5156,750.9531 C254.5156,752.6563 255.8125,753.75 257.8594,753.75 C258.625,753.75 259.3125,753.625 259.7344,753.3594 C259.9219,753.2656 259.9219,753.2656 260.375,752.7813 C260.5625,752.5938 260.7656,752.5156 260.9844,752.5156 C261.4531,752.5156 261.8438,752.9063 261.8438,753.3594 C261.8438,753.75 261.5156,754.2031 260.9375,754.6094 C260.1875,755.1563 259.0313,755.4531 257.8125,755.4531 C254.9219,755.4531 252.8125,753.5625 252.8125,750.9844 L252.8125,749.8594 C252.8125,747.1406 254.8125,745.0625 257.4375,745.0625 C258.3125,745.0625 258.9063,745.2031 259.8438,745.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="269.5" y="747.1387">«IWorker»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="279" y="761.1074">Worker</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="243.5" x2="332.5" y1="768.9375" y2="768.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="243.5" x2="332.5" y1="776.9375" y2="776.9375"/><rect fill="#FEFECE" filter="url(#f1)" height="77.9492" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="418.5" y="719"/><ellipse cx="483.75" cy="737.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M486.0938,733.6406 L486.2656,733.7188 C486.4844,733.4063 486.6875,733.3125 486.9844,733.3125 C487.2813,733.3125 487.5625,733.4531 487.7188,733.7188 C487.8125,733.875 487.8281,734 487.8281,734.4375 L487.8281,735.8594 C487.8281,736.2813 487.7969,736.4688 487.6875,736.625 C487.5156,736.8438 487.25,736.9844 486.9844,736.9844 C486.7656,736.9844 486.5313,736.875 486.3906,736.7344 C486.25,736.6094 486.2188,736.4844 486.1563,736.0781 C486.0625,735.6719 485.8906,735.4531 485.4063,735.1719 C484.9375,734.9219 484.3281,734.7656 483.75,734.7656 C482.0156,734.7656 480.7656,736.0781 480.7656,737.8594 L480.7656,738.9531 C480.7656,740.6563 482.0625,741.75 484.1094,741.75 C484.875,741.75 485.5625,741.625 485.9844,741.3594 C486.1719,741.2656 486.1719,741.2656 486.625,740.7813 C486.8125,740.5938 487.0156,740.5156 487.2344,740.5156 C487.7031,740.5156 488.0938,740.9063 488.0938,741.3594 C488.0938,741.75 487.7656,742.2031 487.1875,742.6094 C486.4375,743.1563 485.2813,743.4531 484.0625,743.4531 C481.1719,743.4531 479.0625,741.5625 479.0625,738.9844 L479.0625,737.8594 C479.0625,735.1406 481.0625,733.0625 483.6875,733.0625 C484.5625,733.0625 485.1563,733.2031 486.0938,733.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="502.25" y="735.1387">«IWorkerFactory»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="512.25" y="749.1074">WorkerFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="419.5" x2="662.5" y1="756.9375" y2="756.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="424.5" y="771.1479">std::unique_ptr&lt;IWorker&gt; createWorker()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="419.5" x2="524.5" y1="784.1445" y2="784.1445"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="524.5" y="787.4526">TODO</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="557.5" x2="662.5" y1="784.1445" y2="784.1445"/><polygon fill="#FBFB77" filter="url(#f1)" points="733,745.5,733,770.6328,1053,770.6328,1053,755.5,1043,745.5,733,745.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="733,745.5,733,754,663.719,758,733,762,733,770.6328,1053,770.6328,1053,755.5,1043,745.5,733,745.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1043" x2="1043" y1="745.5" y2="755.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1053" x2="1043" y1="755.5" y2="755.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="739" y="762.5669">create a new worker instance for a given config</text><rect fill="#FEFECE" filter="url(#f1)" height="48" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="1057" y="519"/><ellipse cx="1072" cy="535" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1074.3438,530.6719 L1074.5156,530.75 C1074.7344,530.4375 1074.9375,530.3438 1075.2344,530.3438 C1075.5313,530.3438 1075.8125,530.4844 1075.9688,530.75 C1076.0625,530.9063 1076.0781,531.0313 1076.0781,531.4688 L1076.0781,532.8906 C1076.0781,533.3125 1076.0469,533.5 1075.9375,533.6563 C1075.7656,533.875 1075.5,534.0156 1075.2344,534.0156 C1075.0156,534.0156 1074.7813,533.9063 1074.6406,533.7656 C1074.5,533.6406 1074.4688,533.5156 1074.4063,533.1094 C1074.3125,532.7031 1074.1406,532.4844 1073.6563,532.2031 C1073.1875,531.9531 1072.5781,531.7969 1072,531.7969 C1070.2656,531.7969 1069.0156,533.1094 1069.0156,534.8906 L1069.0156,535.9844 C1069.0156,537.6875 1070.3125,538.7813 1072.3594,538.7813 C1073.125,538.7813 1073.8125,538.6563 1074.2344,538.3906 C1074.4219,538.2969 1074.4219,538.2969 1074.875,537.8125 C1075.0625,537.625 1075.2656,537.5469 1075.4844,537.5469 C1075.9531,537.5469 1076.3438,537.9375 1076.3438,538.3906 C1076.3438,538.7813 1076.0156,539.2344 1075.4375,539.6406 C1074.6875,540.1875 1073.5313,540.4844 1072.3125,540.4844 C1069.4219,540.4844 1067.3125,538.5938 1067.3125,536.0156 L1067.3125,534.8906 C1067.3125,532.1719 1069.3125,530.0938 1071.9375,530.0938 C1072.8125,530.0938 1073.4063,530.2344 1074.3438,530.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="1086" y="539.1543">Class_generic_config</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1058" x2="1218" y1="551" y2="551"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1058" x2="1218" y1="559" y2="559"/><rect fill="#FEFECE" filter="url(#f1)" height="48" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1230" y="912"/><ellipse cx="1245" cy="928" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1247.3438,923.6719 L1247.5156,923.75 C1247.7344,923.4375 1247.9375,923.3438 1248.2344,923.3438 C1248.5313,923.3438 1248.8125,923.4844 1248.9688,923.75 C1249.0625,923.9063 1249.0781,924.0313 1249.0781,924.4688 L1249.0781,925.8906 C1249.0781,926.3125 1249.0469,926.5 1248.9375,926.6563 C1248.7656,926.875 1248.5,927.0156 1248.2344,927.0156 C1248.0156,927.0156 1247.7813,926.9063 1247.6406,926.7656 C1247.5,926.6406 1247.4688,926.5156 1247.4063,926.1094 C1247.3125,925.7031 1247.1406,925.4844 1246.6563,925.2031 C1246.1875,924.9531 1245.5781,924.7969 1245,924.7969 C1243.2656,924.7969 1242.0156,926.1094 1242.0156,927.8906 L1242.0156,928.9844 C1242.0156,930.6875 1243.3125,931.7813 1245.3594,931.7813 C1246.125,931.7813 1246.8125,931.6563 1247.2344,931.3906 C1247.4219,931.2969 1247.4219,931.2969 1247.875,930.8125 C1248.0625,930.625 1248.2656,930.5469 1248.4844,930.5469 C1248.9531,930.5469 1249.3438,930.9375 1249.3438,931.3906 C1249.3438,931.7813 1249.0156,932.2344 1248.4375,932.6406 C1247.6875,933.1875 1246.5313,933.4844 1245.3125,933.4844 C1242.4219,933.4844 1240.3125,931.5938 1240.3125,929.0156 L1240.3125,927.8906 C1240.3125,925.1719 1242.3125,923.0938 1244.9375,923.0938 C1245.8125,923.0938 1246.4063,923.2344 1247.3438,923.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="1259" y="932.1543">Class_generic_status</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1231" x2="1393" y1="944" y2="944"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1231" x2="1393" y1="952" y2="952"/><rect fill="#FEFECE" filter="url(#f1)" height="66.7422" style="stroke: #A80036; stroke-width: 1.5;" width="303" x="825.5" y="70.5"/><ellipse cx="943.25" cy="89.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M945.5938,85.1406 L945.7656,85.2188 C945.9844,84.9063 946.1875,84.8125 946.4844,84.8125 C946.7813,84.8125 947.0625,84.9531 947.2188,85.2188 C947.3125,85.375 947.3281,85.5 947.3281,85.9375 L947.3281,87.3594 C947.3281,87.7813 947.2969,87.9688 947.1875,88.125 C947.0156,88.3438 946.75,88.4844 946.4844,88.4844 C946.2656,88.4844 946.0313,88.375 945.8906,88.2344 C945.75,88.1094 945.7188,87.9844 945.6563,87.5781 C945.5625,87.1719 945.3906,86.9531 944.9063,86.6719 C944.4375,86.4219 943.8281,86.2656 943.25,86.2656 C941.5156,86.2656 940.2656,87.5781 940.2656,89.3594 L940.2656,90.4531 C940.2656,92.1563 941.5625,93.25 943.6094,93.25 C944.375,93.25 945.0625,93.125 945.4844,92.8594 C945.6719,92.7656 945.6719,92.7656 946.125,92.2813 C946.3125,92.0938 946.5156,92.0156 946.7344,92.0156 C947.2031,92.0156 947.5938,92.4063 947.5938,92.8594 C947.5938,93.25 947.2656,93.7031 946.6875,94.1094 C945.9375,94.6563 944.7813,94.9531 943.5625,94.9531 C940.6719,94.9531 938.5625,93.0625 938.5625,90.4844 L938.5625,89.3594 C938.5625,86.6406 940.5625,84.5625 943.1875,84.5625 C944.0625,84.5625 944.6563,84.7031 945.5938,85.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="961.75" y="86.6387">«IModule»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="970.75" y="100.6074">Module</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="826.5" x2="1127.5" y1="108.4375" y2="108.4375"/><polygon fill="none" points="836.5,115.3398,840.5,119.3398,836.5,123.3398,832.5,119.3398" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="277" x="845.5" y="122.6479">std::unordered_map&lt;ConfigManager&gt; configList</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="826.5" x2="1127.5" y1="129.2422" y2="129.2422"/><polygon fill="#FBFB77" filter="url(#f1)" points="36,53.5,36,154.2969,756,154.2969,756,63.5,746,53.5,36,53.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="36,53.5,36,154.2969,756,154.2969,756,108,825.497,104,756,100,756,63.5,746,53.5,36,53.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="746" x2="746" y1="53.5" y2="63.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="756" x2="746" y1="63.5" y2="63.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="699" x="42" y="70.5669">configList holds all active (running) ConfigManager plus a number of inactive (e.g. initialized, or finished) ones.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="539" x="42" y="85.6997">Inactive ConfigManager can be removed from the list to make space for new entries.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="46" y="100.8325"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="42" y="115.9653">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="42" y="131.0981">- query Class_generic_status via ConfigManager (2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="42" y="146.231">- remove Store_SQLite_generic_status (3)</text><polygon fill="#FBFB77" filter="url(#f1)" points="1198,8,1198,199.5938,1984,199.5938,1984,18,1974,8,1198,8" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="1198,8,1198,100,1128.7,104,1198,108,1198,199.5938,1984,199.5938,1984,18,1974,8,1198,8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1974" x2="1974" y1="8" y2="18"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1984" x2="1974" y1="18" y2="18"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="1204" y="25.0669">used patterns:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="583" x="1204" y="40.1997">- [Active Object] to decouple config control command invocation from command execution.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="757" x="1212" y="55.3325">The goal is to introduce concurrency, by using asynchronous method invocation and a scheduler for handling requests.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="1212" y="70.4653">(https://en.wikipedia.org/wiki/Active_object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="1212" y="85.5981">http://www.dre.vanderbilt.edu/~schmidt/PDF/Act-Obj.pdf)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="749" x="1204" y="100.731">- [Command Pattern, Command Queue] To queue invoked commands and execute them in 1…X processing threads.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="1212" y="115.8638">Commands must be synchronized with respect to the corresponding config.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="724" x="1212" y="130.9966">Commands of different configs may be reordered and / or executed concurrently. Commands for the same config</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="1212" y="146.1294">have to be executed strictly in their queuing order.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="1212" y="161.2622">(https://en.wikipedia.org/wiki/Command_queue,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="1212" y="176.395">https://en.wikipedia.org/wiki/Command_pattern,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="1212" y="191.5278">http://www.dre.vanderbilt.edu/~schmidt/PDF/CommandRevisited.pdf)</text><rect fill="#FEFECE" filter="url(#f1)" height="60.8047" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="793.5" y="312"/><ellipse cx="842.75" cy="328" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M845.0938,323.6719 L845.2656,323.75 C845.4844,323.4375 845.6875,323.3438 845.9844,323.3438 C846.2813,323.3438 846.5625,323.4844 846.7188,323.75 C846.8125,323.9063 846.8281,324.0313 846.8281,324.4688 L846.8281,325.8906 C846.8281,326.3125 846.7969,326.5 846.6875,326.6563 C846.5156,326.875 846.25,327.0156 845.9844,327.0156 C845.7656,327.0156 845.5313,326.9063 845.3906,326.7656 C845.25,326.6406 845.2188,326.5156 845.1563,326.1094 C845.0625,325.7031 844.8906,325.4844 844.4063,325.2031 C843.9375,324.9531 843.3281,324.7969 842.75,324.7969 C841.0156,324.7969 839.7656,326.1094 839.7656,327.8906 L839.7656,328.9844 C839.7656,330.6875 841.0625,331.7813 843.1094,331.7813 C843.875,331.7813 844.5625,331.6563 844.9844,331.3906 C845.1719,331.2969 845.1719,331.2969 845.625,330.8125 C845.8125,330.625 846.0156,330.5469 846.2344,330.5469 C846.7031,330.5469 847.0938,330.9375 847.0938,331.3906 C847.0938,331.7813 846.7656,332.2344 846.1875,332.6406 C845.4375,333.1875 844.2813,333.4844 843.0625,333.4844 C840.1719,333.4844 838.0625,331.5938 838.0625,329.0156 L838.0625,327.8906 C838.0625,325.1719 840.0625,323.0938 842.6875,323.0938 C843.5625,323.0938 844.1563,323.2344 845.0938,323.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="863.25" y="332.1543">ConfigManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.5" x2="993.5" y1="344" y2="344"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.5" x2="993.5" y1="352" y2="352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="799.5" y="366.2104">Class_generic_status getStatus()</text><polygon fill="#FBFB77" filter="url(#f1)" points="1064.5,292,1064.5,392.7969,1525.5,392.7969,1525.5,302,1515.5,292,1064.5,292" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="1064.5,292,1064.5,338.5,994.642,342.5,1064.5,346.5,1064.5,392.7969,1525.5,392.7969,1525.5,302,1515.5,292,1064.5,292" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1515.5" x2="1515.5" y1="292" y2="302"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1525.5" x2="1515.5" y1="302" y2="302"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="1070.5" y="309.0669">Exactly one instance per config.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="1070.5" y="324.1997">Implements own status.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1074.5" y="339.3325"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1070.5" y="354.4653">TODO:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="362" x="1070.5" y="369.5981">- getStatus() updates Class_generic_status on the fly (2)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="440" x="1070.5" y="384.731">- stableResultCounts are read updated by the store automatically (3)</text><rect fill="#FEFECE" filter="url(#f1)" height="53.9375" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="6" y="516"/><ellipse cx="21" cy="534.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.3438,530.6406 L23.5156,530.7188 C23.7344,530.4063 23.9375,530.3125 24.2344,530.3125 C24.5313,530.3125 24.8125,530.4531 24.9688,530.7188 C25.0625,530.875 25.0781,531 25.0781,531.4375 L25.0781,532.8594 C25.0781,533.2813 25.0469,533.4688 24.9375,533.625 C24.7656,533.8438 24.5,533.9844 24.2344,533.9844 C24.0156,533.9844 23.7813,533.875 23.6406,533.7344 C23.5,533.6094 23.4688,533.4844 23.4063,533.0781 C23.3125,532.6719 23.1406,532.4531 22.6563,532.1719 C22.1875,531.9219 21.5781,531.7656 21,531.7656 C19.2656,531.7656 18.0156,533.0781 18.0156,534.8594 L18.0156,535.9531 C18.0156,537.6563 19.3125,538.75 21.3594,538.75 C22.125,538.75 22.8125,538.625 23.2344,538.3594 C23.4219,538.2656 23.4219,538.2656 23.875,537.7813 C24.0625,537.5938 24.2656,537.5156 24.4844,537.5156 C24.9531,537.5156 25.3438,537.9063 25.3438,538.3594 C25.3438,538.75 25.0156,539.2031 24.4375,539.6094 C23.6875,540.1563 22.5313,540.4531 21.3125,540.4531 C18.4219,540.4531 16.3125,538.5625 16.3125,535.9844 L16.3125,534.8594 C16.3125,532.1406 18.3125,530.0625 20.9375,530.0625 C21.8125,530.0625 22.4063,530.2031 23.3438,530.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="124" x="33" y="532.1387">«IWorkerController»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="51" y="546.1074">WorkerThread</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="157" y1="553.9375" y2="553.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="157" y1="561.9375" y2="561.9375"/><polygon fill="#FBFB77" filter="url(#f1)" points="228,470,228,616.1953,1022,616.1953,1022,480,1012,470,228,470" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FBFB77" points="228,470,228,539,158.094,543,228,547,228,616.1953,1022,616.1953,1022,480,1012,470,228,470" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1012" x2="1012" y1="470" y2="480"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1022" x2="1012" y1="480" y2="480"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="635" x="234" y="487.0669">The WorkerThread class is responsible for wrapping and executing the Worker in a dedicated thread:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="238" y="502.1997">- create a thread for the worker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="238" y="517.3325">- construct the actual worker instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="238" y="532.4653">- run the worker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="238" y="547.5981">- synchronication between worker (thread) and module (thread)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="238" y="562.731">- error handling</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="238" y="577.8638"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="234" y="592.9966">used patterns:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="773" x="234" y="608.1294">- [Mediator] between Worker and ConfigManager -&gt; to avoid threading problems and run worker in own, dedicated thread</text><path d="M925.682,137.635 C896.046,159.693 861.466,191.731 845,230 C833.05,257.775 849.739,289.311 866.802,311.74 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="846" y="250.5669">controls</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="853.4705" y="300.9496">*</text><path d="M963.802,142.607 C947.316,189.58 919.451,268.98 904.397,311.876 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="965.459,137.884,958.7047,145.052,963.8035,142.602,966.2535,147.7008,965.459,137.884" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="934" y="250.5669">uses</text><path d="M982.967,137.752 C987.42,170.585 990.143,221.884 973,262 C965.452,279.663 951.977,295.526 938.27,308.35 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="934.402,311.885,943.7431,308.7634,938.0919,308.5108,938.3444,302.8596,934.402,311.885" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="982" y="243.0669">reads status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="991.5" y="258.1997">(TODO) (2)</text><path d="M793.24,348.597 C657.078,358.194 408.63,385.362 211,461 C176.053,474.375 140.327,497.711 115.36,515.91 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="319" y="436.0669">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="100.7626" y="505.0005">0/1</text><path d="M107.26,570.118 C146.797,610.998 222.87,689.657 262.534,730.668 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="192" y="659.0669">runs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="234.7758" y="720.1368">0/1</text><path d="M338.661,758 C361.719,758 390.106,758 418.246,758 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="333.524,758,342.524,762,338.524,758,342.524,754,333.524,758" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="352" y="751.0669">creates</text><path d="M931.01,373.066 C960.588,396.748 1003.062,430.873 1040,461 C1062.1,479.029 1086.86,499.496 1105.97,515.346 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1110.2,518.86,1105.8387,510.0294,1106.356,515.6626,1100.7228,516.1799,1110.2,518.86" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="1013" y="436.0669">read/write</text><path d="M983.464,373.088 C1083.06,406.208 1230.73,455.934 1235,461 C1349.94,597.457 1326.52,837.002 1315.74,911.93 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="1317" y="659.0669">has</text><path d="M326.863,785.107 C347.926,797.996 374.921,812.555 401,821 C692.399,915.3584 1059.64,932.2929 1224.67,934.8713 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1229.97,934.9503,1221.0281,930.8221,1224.9705,934.8789,1220.9138,938.8213,1229.97,934.9503" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="473" y="842.0669">writes</text><path d="M1039.13,137.638 C1078.9,157.596 1132.05,182.557 1181,200 C1357.84,263.023 1579,153.764 1579,341.5 C1579,341.5 1579,341.5 1579,759 C1579,846.737 1477.26,893.2203 1399.38,915.9489 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1394.29,917.4118,1404.0459,918.7617,1399.0943,916.0265,1401.8294,911.0749,1394.29,917.4118" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="1631.5" y="540.0669">reads status</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="1584" y="555.1997">(current implementation) (1)</text></g></svg>